{% extends 'base.html' %}
{% load i18n %}
{% load readmore el_pagination_tags staticfiles %}
{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/timeline_app.css' %}" />

	<style>
		.content-center {
		    float: left;
		    width: 100%; 
		}

		.form-group input[type="text"] ,.form-group   textarea{

			display: block;
			width: 100%;
			height: 34px;
			padding: 6px 12px;
			font-size: 14px;
			line-height: 1.42857143;
			color: #555555;
			background-color: #ffffff;
			background-image: none;
			border: 1px solid #cccccc;
			border-radius: 4px;
			-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
			-webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
			-o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
			transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
 
		}
	.in-line-columns {
			 display:inline-flex !important;
			}
		@media all and (max-width : 767px) {
			.in-line-columns {
			 display:block !important;
			width:100% !important;
			}


			.new-post-form form input[type="text"] {
			    width: 100%;
			    border: 1px solid #c2b999;
			}

			.new-post-form form textarea#id_content {
			    width: 100%;
			    height: 200px;
			    font-size: 12px;
			}
		}	
	</style>
{% endblock %}

{% block subheader %}
    {% include "subheader.html"%}
{% endblock subheader %}

{% block content %}
<div class="content-center">
    <div class="new-post-form">
            {% if form.instance.pk  %}
                <form class="row" action="{% url 'timelineitem_edit_text'  form.instance.pk %}" method="post" id="new-post-form" stye="width: 900px;" enctype="multipart/form-data">
            {% else %}
                <form class="row" action="{% url 'text_form'  %}" method="post" id="new-post-form" stye="width: 900px;" enctype="multipart/form-data">
            {% endif %}
            {% csrf_token %}
            <div class="col-lg-6" style="float:left;border-right:1px dashed black;">
                <div  class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label"><b>{% trans "Basics" %}:</b></label>{% trans "Share Dharma teachings, resources and your own expeirences." %}</div><div  class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Post is" %}: </label>
                    {% for radio in form.item_category %}
                    {{ radio.tag }} {{ radio.choice_label }}
                    {% endfor %} 
                </div>
                <div class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Title or Quote" %}: </label>{{ form.title }}
                        {% if form.title.errors   %}
                        <label></label>{{ form.title.errors }}
                        {% endif %}
                </div>
                <div id="div_text_id" class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Expanded Text" %}: </label>{{ form.content }}{{ form.content.errors }}
                </div>
                <div class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Is Original" %}:</label>{{ form.is_original }}The main content of this post is my own writing or artistic creation.{{ form.is_original.errors }}
                    </select>
                </div>
                <div id="div_teacher_id" class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Teacher" %}(Optional):</label>{{ form.teacher_name }}{{ form.teacher_name.errors }}
                </div>
                <div class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Language" %}:</label>{{ form.language }}{{ form.language.errors }}
                </div>
            </div>
            <div  class="col-lg-6" style="float:left;">
                <label><b>{% trans "Extended" %}:</b></label>{% trans "Add additional information to give your content more exposure. All Optional." %}<br><br>
                <div class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Topics" %}:</label><div class="in-line-columns">{{ form.topic_list }}, {{ form.topic_list }}, {{ form.topic_list }} {{ form.topic_list.errors }}</div>
                <div class="form-group">
                    <label class="col-xs-12  col-lg-2  link-label">{% trans "Upload a Picture/HTML/PDF" %}: </label>
                    {% if form.instance.pk and form.instance.uploaded_file  %}
                    <a href="{{ form.instance.uploaded_file.url }}">{{ form.instance.file_name }}</a>
                    {% endif %}
                    {{ form.uploaded_file }}{{ form.uploaded_file.errors }}
                </div>
            </div>
            <div class="col-lg-6" style=" text-align:right;">
                <button class="button" style="float:none;" type="submit">{% trans "Submit" %}</button>
            </div>
        </form>
    </div>
</div>

{% endblock %}
{% block extra_js %}
{% include "timeline/timeline_post_js.html"%}
<script type="text/javascript">
$(function() {

    toggleTextContent();
    toggleTeacherName();

    $("input[name='item_category']").click(function(){
        toggleTextContent()
    });

    $('#id_is_original').click(function() {
        toggleTeacherName()
    });

});
function toggleTextContent(){
    if($('input:radio[name=item_category]:checked').val() == "2"){
        $('#div_text_id').hide();
        $('#id_content').val('');
    }else{
        $('#div_text_id').show();
    }
}

function toggleTeacherName(){
    if ($('#id_is_original').is(':checked')) {
        $('#div_teacher_id').hide();
        $('#id_teacher_name').val('');
    }else{
        $('#div_teacher_id').show();
    }
}
</script>
{% endblock %}
